\begin{abstract}

Fully Homomorphic Encryption (FHE) is a scheme whereby data can be encrypted, that encrypted data can be used in an encrypted computational circuit, and the result can be decrypted to get back the unencrypted result of the same computation. While FHE enables privacy-preserving computation, it is extremely slow. However, the mathematical formulation of FHE supports a SIMD-like execution style, and hence recent work has turned to vectorization to recover some of the missing performance. Unfortunately, these vectorization approaches do not work well for arbitrary computations: they do not account for the high cost of {\em rotating} vector operands to allow data to be used in multiple operations. Hence, the cost of rotation can outweigh the benefits of vectorization.

This paper presents \system, a new approach to vectorizing encrypted circuits that specifically aims to optimize the use of rotations. It vectorizes entire subcircuits at once to eliminate rotations within those subcircuits. It then attempts ``lines up'' operations between subcircuits using a minimal number of rotations. \system uses a careful encoding of the {\em lane placement} problem that allows a solver to identify good rotations without having to explore an impractically large search space. This paper shows that \system is effective at vectorizing computational kernels while minimizing rotation, finding efficient vector schedules and smart rotation schemes to achieve substantial speedups.

\end{abstract}